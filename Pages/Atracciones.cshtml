@page
@model mayanBoats.Pages.AtraccionesModel
@{
    ViewData["Title"] = "Atracciones";

    var atracciones = new[]
    {
        new { Name = "Barco Hundido", Description = "El dragaminas USS Harlequin de la Segunda Guerra Mundial ubicado entre Cancún e Isla Mujeres.", Images = new[] { "BarcoHundido.webp", "BarcoHundido2.webp", "BarcoHundido3.webp" }, CarouselId = "carousel1" },
        new { Name = "Playa Norte", Description = "Arena blanca y aguas cristalinas forman un paisaje icónico en una de las mejores playas del mundo.", Images = new[] { "PlayaNorte.webp", "PlayaNorte2.webp", "PlayaNorte3.webp" }, CarouselId = "carousel2" },
        new { Name = "Arrecifes el Farito", Description = "Parque marino con un faro en medio de un arrecife con la estatua de la Virgen del Carmen.", Images = new[] { "ElFarito.webp", "ElFarito2.webp", "ElFarito3.webp" }, CarouselId = "carousel3" },
        new { Name = "Garrafón", Description = "Parque natural con actividades recreativas para toda la familia localizado en Punta Sur.", Images = new[] { "Garrafon.webp", "Garrafon2.webp", "Garrafon3.webp" }, CarouselId = "carousel4" },
        new { Name = "Museo Subacuático", Description = "Galería de esculturas sumergidas a una profundidad de 30 pies en el mar Caribe.", Images = new[] { "MuSa.webp", "MuSa2.webp", "MuSa3.webp" }, CarouselId = "carousel5" },
        new { Name = "Playa Presidente", Description = "Considerada la mejor playa de Cancún, un paraíso tropical con arenas color marfil y aguas turquesas eléctricas.", Images = new[] { "PlayaPresidente.webp", "PlayaPresidente2.webp", "PlayaPresidente3.webp" }, CarouselId = "carousel6" }
    };
}

<div class="container-xxl text-center mt-5">
    <div class="row">
        @foreach (var atraccion in atracciones)
        {
            <div class="col-md-4 mb-4">
                <div class="card h-100 d-flex flex-column">
                    <div id="@atraccion.CarouselId" class="carousel slide" data-bs-ride="carousel">
                        <!-- Ribbon en carruseles específicos -->
                        @if (atraccion.CarouselId == "carousel1" || atraccion.CarouselId == "carousel3" || atraccion.CarouselId == "carousel5")
                        {
                            <div class="ribbon-atr">Snorkel</div>
                        }
                        <div class="carousel-indicators">
                            @for (int i = 0; i < atraccion.Images.Length; i++)
                            {
                                <button type="button" data-bs-target="#@atraccion.CarouselId" data-bs-slide-to="@i" class="@(i == 0 ? "active" : "")" aria-current="@(i == 0 ? "true" : "false")" aria-label="Slide @i"></button>
                            }
                        </div>
                        <div class="carousel-inner">
                            @foreach (var image in atraccion.Images)
                            {
                                <div class="carousel-item carousel-atr @(image == atraccion.Images.First() ? "active" : "")">
                                    <a href="img/atracciones/@image" data-fancybox="@atraccion.CarouselId">
                                        <img src="img/atracciones/@image" class="d-block w-100 img-fluid">
                                    </a>
                                </div>
                            }
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#@atraccion.CarouselId" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#@atraccion.CarouselId" data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@atraccion.Name</h5>
                        <p class="card-text mt-auto">@atraccion.Description</p>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

